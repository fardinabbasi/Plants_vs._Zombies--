{"date":"2024-05-13T19:27:32.331Z","courseId":"17","assignment":"AP-Spring03-CA5","trace":{"content":"#include \"PVZ.hpp\"\n\n\nPVZ::PVZ(map<string, map<string, int>> config):\nbattle(config), victory_screen(\"Victory.jpg\", \"Victory.ogg\"), lose_screen(\"GameOver.png\", \"Lose.ogg\")\n{\n    window.create(VideoMode(WINDOW_WIDTH ,WINDOW_HEIGHT), \"PVZ\", Style::Close);\n    window.setFramerateLimit(FRAME_RATE);\n    state = STARTING;\n}\n\nvoid PVZ::run(){\n    while (window.isOpen()) {\n        window.clear(Color::Black);\n        event_handler();\n        switch (state)\n        {\n        case STARTING:\n            state = menu.render(window);\n            break;\n        case BATTLE:\n            battle.render(window);\n            break;\n        case VICTORY:\n            victory_screen.render(window);\n            break;\n        case GAMEOVER:\n            lose_screen.render(window);\n            break;\n        case EXIT:\n            window.close();\n            break;\n        default:\n            break;\n        }\n    }\n}\n\nvoid PVZ::event_handler(){\n    Event event;\n    while (window.pollEvent(event) && state != EXIT) {\n        if(event.type == Event::Closed)\n            state = EXIT;\n        else if(event.type == Event::MouseButtonPressed && event.mouseButton.button == Mouse::Left){\n            switch (state)\n            {\n            case STARTING:\n                menu.mouse_press(event.mouseButton.x, event.mouseButton.y);\n                break;\n            case BATTLE:\n                battle.mouse_press(event.mouseButton.x, event.mouseButton.y);\n                break;\n            default:\n                break;\n            }\n        }\n        else if(event.type == Event::MouseButtonReleased){\n            switch (state)\n            {\n            case BATTLE:\n                battle.mouse_release(event.mouseButton.x, event.mouseButton.y);\n                break;\n            default:\n                break;\n            }\n        }\n    }\n}","filename":"/media/sf_AP/HW/HW5/Plants_vs._Zombies--/src/PVZ.cpp","identifier":"Save Document","languageId":"cpp","version":40,"lineCount":68},"failed":false}